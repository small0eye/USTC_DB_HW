## 开发内容

现在我们要开发一个社区，在这个社区里每个人都可以发表自己的观点，也可以对别人的观点进行点赞，评论或举报。

## 技术栈

数据库通过Mysql进行管理，UI界面通过python的代码进行编写。

## 数据库层面

全部关系表格储存在community_database的模式中。

以下是针对您提供的SQL语句中每个表的字段的详细解释，按表分类说明：

---

### **1. 用户表（`user`）**

| 字段名             | 数据类型     | 说明                                   |
| --------------- | -------- | ------------------------------------ |
| `user_id`       | CHAR(15) | 用户唯一标识符，主键（如"USER10001"）。            |
| `user_name`     | CHAR(20) | 用户昵称（如"JohnDoe"），最长20字符，且名字唯一，用于登录界面 |
| `user_password` | CHAR(20) | 用户密码（存储需加密），最长20字符。                  |
| `user_role`     | CHAR(10) | 用户角色（如"admin"、"user"），用于权限控制。        |

---

### **2. 板块表（`section`）**

| 字段名                   | 数据类型      | 说明                                   |
| --------------------- | --------- | ------------------------------------ |
| `section_id`          | CHAR(15)  | 板块唯一标识符，主键（"SECTION1001"）。           |
| `section_name`        | CHAR(20)  | 板块名称（如"编程技术"），最长20字符。                |
| `section_description` | CHAR(200) | 板块描述（如"讨论Python/Java等编程问题"），最长200字符。 |

---

### **3. 帖子表（`post`）**

| 字段名               | 数据类型      | 说明                               |
| ----------------- | --------- | -------------------------------- |
| `post_id`         | CHAR(15)  | 帖子唯一标识符，主键（"POST1001"）。          |
| `post_name`       | CHAR(20)  | 帖子标题（如"如何优化SQL查询"），最长20字符。       |
| `post_content`    | CHAR(200) | 帖子正文内容，最长200字符。                  |
| `poster_id`       | CHAR(15)  | 发帖人ID，外键关联`user.user_id`。        |
| `section_id_in`   | CHAR(15)  | 所属板块ID，外键关联`section.section_id`。 |
| `number_likes`    | INT       | 帖子被点赞的总数（如25），默认值为0。             |
| `create_date`     | DATE      | 帖子创建日期（如"2025-05-20"）。           |
| `number_comments` | INT       | 帖子被评论的总数，默认值为零                   |

---

### **4. 评论表（`comments`）**

| 字段名               | 数据类型      | 说明                           |
| ----------------- | --------- | ---------------------------- |
| `comment_id`      | CHAR(15)  | 评论唯一标识符，主键（如"COMMENT1001"）。  |
| `commenter_id`    | CHAR(15)  | 评论者ID，外键关联`user.user_id`。    |
| `post_id_in`      | CHAR(15)  | 被评论的帖子ID，外键关联`post.post_id`。 |
| `comment_content` | CHAR(200) | 评论内容（如"感谢分享！"），最长200字符。      |
| `comment_date`    | DATE      | 评论发布日期（如"2025-05-21"）。       |

---

### **5. 点赞表（`likes`）**

| 字段名             | 数据类型     | 说明                               |
| --------------- | -------- | -------------------------------- |
| `user_id_like`  | CHAR(15) | 点赞用户ID，联合主键，外键关联`user.user_id`。  |
| `post_id_liked` | CHAR(15) | 被点赞帖子ID，联合主键，外键关联`post.post_id`。 |

> **联合主键作用**：确保同一用户对同一帖子只能点赞一次。

---

### **6. 举报表（`report`）**

| 字段名                | 数据类型      | 说明                         |
| ------------------ | --------- | -------------------------- |
| `report_id`        | CHAR(15)  | 举报记录唯一标识符，主键（如"REP1001"）。  |
| `reporter_id`      | CHAR(15)  | 举报人ID，外键关联`user.user_id`。  |
| `report_reason`    | CHAR(200) | 举报原因描述（如"包含不当言论"），最长200字符。 |
| `reported_post_id` | CHAR(15)  | 被举报的帖子id                   |
| `report_status`    | INT       | 举报状态（成功2与否0待处理1）           |

---

## UI交互的设计要求

社区论坛的Web UI界面要求实现以下功能流程：

1. **登录界面**
   
   - 核心元素：
     * 用户名/密码输入框
     * "登录"按钮
     * "注册账号"按钮（位于右下角）
   - 交互逻辑：
     * 点击"注册账号"进入注册界面
     * 登录成功后根据用户角色跳转（user角色进入主页）

2. **注册界面**
   
   - 核心元素：
     * 用户名/密码/确认密码输入框
     * 头像上传区域（支持拖拽/点击上传）
     * "注册"按钮
     * "返回登录"按钮
   - 交互逻辑：
     * 注册时自动设置user_role为"user"
     * 头像上传后实时预览
     * 注册成功自动返回登录界面

3. **用户主页（登录后）**
   
   - 布局结构：
     
     ```plaintext
     [顶部导航栏]
       左侧：欢迎语 "欢迎，{用户名}！"
       右侧：用户菜单图标（显示用户头像）
     
     [主体内容]
       板块列表（section_list）：
         - 卡片式布局
         - 每张卡片显示：section_name + 精简section_description
         - 点击卡片进入对应板块详情页
     ```
   
   - 交互细节：
     
     * 鼠标悬停用户头像 → 下拉菜单显示：
       - 用户头像（大图）
       - 用户名
       - "个人中心"（预留）
       - "退出登录"
     * 板块卡片悬停效果（轻微阴影/缩放）

4. **板块详情页**
   
   - 布局结构（两栏响应式）：
     
     ```plaintext
     [左侧栏 - 30%宽度]
       - 板块名称（section_name）
       - 详细描述（section_description）
       - "返回主页"按钮
     
     [右侧栏 - 70%宽度]
       帖子列表（post_list）：
         - 每项显示：
            · 帖子标题（post_name）
            · 发帖人信息（含头像）
            · 点赞数（❤️ {number_likes}）
            · 创建时间（create_date）
         - "发表新帖"按钮（顶部）
     ```
   
   - 交互逻辑：
     
     * 点击帖子项 → 进入帖子详情页
     * 点击"返回主页" → 回到用户主页

5. **帖子详情页**
   
   - 布局结构：
     
     ```plaintext
     [帖子头部]
       - 标题（post_name）
       - 发帖人信息（头像+用户名）
       - 点赞区域（❤️ {number_likes} + "点赞"按钮）
       - 举报按钮（⚠️ 图标）
     
     [帖子正文]
       - 内容区域（post_content）
       - 创建时间（create_date）
     
     [评论区]
       - 评论列表（每条显示：评论者头像+用户名+comment_content+comment_date）
       - 评论输入框（底部）
     
     [固定底部栏]
       - "返回板块"按钮（左侧）
       - "发表评论"按钮（右侧）
     ```
   
   - 举报功能交互：
     
     * 点击举报按钮 → 弹出模态窗口（非页面跳转）
     * 模态窗口包含：
       - 举报原因输入框（report_reason）
       - 举报记录表格（显示历史举报的report_reason+status+举报时间）
       - 状态标签（pending: 审核中，resolved: 已处理，rejected: 已驳回）
       - "提交举报"/"取消"按钮

6. **全局要求**
   
   - 风格：现代简约风，主色调蓝色系
   - 响应式：适配桌面/平板/手机
   - 交互反馈：关键操作有成功/错误提示
   - 头像显示：
     * 圆形裁切
     * 默认头像（首字母+随机背景色）
     * 用户未上传时显示默认头像

## UI优化

请改进代码使得社区论坛UI更加的高级，特别注重优雅的页面过渡效果：

1. **登录/注册流程**
   
   - 注册表单提交后：使用圆形扩展过渡（circular reveal）跳转回登录页
   - 登录成功时：用户头像从登录框飞出→导航栏位置（共享元素过渡）

2. **主页→板块详情**
   
   - 点击板块卡片时：
     * 被点击卡片放大为全屏遮罩
     * 背景内容高斯模糊
     * 新内容从卡片位置展开（共享元素过渡）
   - 返回时：反向动画

3. **板块→帖子详情**
   
   - 帖子卡片点击：
     * 卡片飞入屏幕中央
     * 展开为完整帖子视图（带纸张折叠效果）
     * 评论列表从底部交错式滑入
   - 举报弹窗：从底部卡片式上滑（带背景调暗）

4. **全局微交互**
   
   - 点赞按钮：点击时产生心形粒子飞散动画
   - 头像悬停：轻微3D浮起+阴影加深
   - 加载状态：骨架屏渐变过渡到内容
   - 举报状态变更：色彩流动动画（pending→resolved）

5. **技术实现建议**
   
   - 使用FLIP动画技术（First, Last, Invert, Play）
   - 采用Spring物理动画系统
   - 实现共享元素跨路由过渡
   - 滚动驱动的视差效果
